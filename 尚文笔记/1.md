# 一、OSI七层模型
1.     降低复杂性：将复杂的网络通信问题分解为多个层次，各层负责不同的功能，便于理解和维护。
2.     提高设备兼容性：不同厂商的设备可以在同一层次上通信，实现设备之间的互操作性。
3.     提供标准化的接口：各层之间的接口有标准化的定义，便于设备制造商和软件开发者进行开发和集成。
4.     模块化：OSI模型将网络通信问题分解为多个层次，每个层次可以独立开发和升级，便于网络技术的更新和发展。
5.     易于实现和维护
##     1. 物理层：传输比特流，定义了接口标准，传输介质等。 
>         物理设备：如交换机、路由器、网卡等
            传输比特流
            硬件接口
            传输介质
    

##     2. 数据链路层：将比特流组织成帧，进行差错检测，实现数据帧的传输。

>         介质访问、链路管理
        传输数据帧
        负责讲上层数据封装成固定格式的帧，并添加帧头和帧尾，帧头和帧尾包含物理地址、控制信息、帧校验序列等。
            

##     3. 网络层：实现数据包的传输，进行路由选择，实现IP地址的编址。   IP    路由器->路由表
>        寻址和路由
        路由数据包
        基于不同地址进行转发选择最优路径

##     4. 传输层：实现数据包的可靠传输，进行流量控制，实现端到端的连接。
>        建立连接
        处理主机之间的传输问题
        确保可靠性

##     5. 会话层：建立、管理和终止会话，进行同步。
>        会话建立维护管理
        不参与具体传输，提供验证和管理
        在不同的进程间建立并维护会话，进行数据同步




##     6. 表示层：进行数据格式转换，加密解密，压缩解压缩。
>        数据表示
        确保应用接受到正确的数据
        转换、加密、解密
        规范化数据格式和结构


##     7. 应用层：提供用户接口，实现应用功能。提供应用程序之间的通信。
>        网络应用
        提供用户接口，实现应用功能
        为用户提供网络管理、文件传输、电子邮件、远程登录等应用服务。


-----


# 二、数据转发
    发送方对原始数据封装，通过介质发送下一跳设备
    中间网络设备对包进行解封，根据目的地址进行转发
    接收方对包进行解封，获取原始数据

# 三、设备
###     交换机：
划分冲突域，域内通信，大量接口供终端连接，根据MAC地址转发数据包
###     路由器：

划分广播域，冲突域，域间通信，根据IP地址转发数据包
- 单播：一对一
- 组播：一对多，源对接入
- 广播：一对所有，不用于实际通信，用于发现设备。可以是任意设备发起广播且效率低，若广播域过大，则广播风暴（广播流量变多，占用带宽，导致网络拥塞）

# TCP/IP

1. 应用层：提供用户接口，实现应用功能。提供应用程序之间的通信。
2. 传输层：实现数据包的可靠传输，进行流量控制，实现端到端的连接。
    - 可靠协议 TCP：有重传机制
    - 不可靠   UDP：高效     
    - 端口：0-65535，0-1023常用
3. 网络层：实现数据包的传输，进行路由选择，实现IP地址的编址。
4. 网络接口层：将数据包封装成帧，进行差错检测，实现数据帧的传输。
## 三次握手
1. 客户端发送SYN包，请求建立连接
2. 服务器收到SYN包，发送SYN+ACK包，确认连接请求
3. 客户端收到SYN+ACK包，发送ACK包，确认连接建立
## 四次挥手
1. 客户端发送FIN包，请求关闭连接
2. 服务器收到FIN包，发送ACK包，确认客户端关闭连接请求
3. 服务器发送FIN包，请求关闭连接
4. 客户端收到FIN包，发送ACK包，确认服务器关闭连接请求

## TCP报文

分段传输：将数据分成多个段，每个段包含一个序号，接收方根据序号重组数据，
确认号：确认已接收到的数据，告知发送方可以接收的数据量
窗口：告知发送方可以接收的数据量，避免拥塞

### 大致过程
1.   三次握手
2.   分段传输，重组排序，确认号重传，窗口确认数据大小
3.   四次挥手

# 四、IP地址
## 作用：标识网络中的设备
## 报文结构：
    1. 版本：4位，标识IP协议版本
    2. 头部长度：4位，标识IP头部长度
    3. 服务类型：根据服务质量、不同需求设置，如优先级、延迟、吞吐量等
    4. 总长度：16位，标识IP报文总长度
    5. 生存时间：8位，TTL，每经过一个设备减1，减到0则丢弃，防止环路
    6. 协议：确定上层协议类型，如TCP、UDP等
    7. 源IP：标识发送方
    8. 目的IP：标识接收方
## v4地址概述
- 结构：32位，点分十进制表示，如192.168.1.1
    网络位：标识网络，如192.168.1.0
    主机位：标识主机，如192.168.1.1
- 分类：A、B、C、D、E类
    1. A类：1-126，网络位8位，主机位24位
    2. B类：128-191，网络位16位，主机位16位
    3. C类：192-223，网络位24位，主机位8位
    4. D类：224-239，组播地址
    5. E类：240-255，保留
- 特殊地址：127.0.0.1，回环地址，用于本地测试
- 私有地址：10.0.0.0-10.255.255.255，172.16.0.0-172.31.255.255，192.168.0.0-192.168.255.255，用于局域网内部通信，不可直接访问互联网
- 本地广播地址：255.255.255.255，局域网内所有设备接收
- 网络号：主机位全为0，如192.168.1.0
- 子网广播地址：主机位全为1，如192.168.1.255/24
## 子网掩码
- 作用：标识网络位和主机位
- 结构：32位，点分十进制表示，如255.255.255.0
- 计算方法：将网络位全置为1，主机位全置为0，如192.168.1.0/24，子网掩码为255.255.255.0  （算法：256-掩码，得数在分类中，如256-224=32，范围为32-64）



